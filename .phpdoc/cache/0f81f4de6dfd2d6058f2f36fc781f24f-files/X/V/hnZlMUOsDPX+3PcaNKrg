1749751333
0f81f4de6dfd2d6058f2f36fc781f24f-phpdoc%3Aa1b138d59a4ff8c6db2c5775f25c4059-467a929c28145bc87d1454f116c8c35b
s:6764:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czozOToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBuYW1lIjtzOjMwOiJSZWdpc3RyYXRpb25Db250cm9sbGVyLnRwbC5waHAiO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbmFtZXNwYWNlcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbmNsdWRlcyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBmdW5jdGlvbnMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY29uc3RhbnRzIjthOjA6e31zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fXM6NDA6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZW51bXMiO2E6MDp7fXM6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaGFzaCI7czozMjoiNDY3YTkyOWMyODE0NWJjODdkMTQ1NGYxMTZjOGMzNWIiO3M6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAcGF0aCI7czo4MToidmVuZG9yL3N5bWZvbnkvbWFrZXItYnVuZGxlL3RlbXBsYXRlcy9yZWdpc3RyYXRpb24vUmVnaXN0cmF0aW9uQ29udHJvbGxlci50cGwucGhwIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czo0MDk0OiI8Pz0gIjw/cGhwXG4iID8+CgpuYW1lc3BhY2UgPD89ICRuYW1lc3BhY2U7ID8+OwoKPD89ICR1c2Vfc3RhdGVtZW50czsgPz4KCmNsYXNzIDw/PSAkY2xhc3NfbmFtZTsgPz4gZXh0ZW5kcyBBYnN0cmFjdENvbnRyb2xsZXIKewo8P3BocCBpZiAoJHdpbGxfdmVyaWZ5X2VtYWlsKTogPz4KICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChwcml2YXRlIDw/PSAkZ2VuZXJhdG9yLT5nZXRQcm9wZXJ0eVR5cGUoJGVtYWlsX3ZlcmlmaWVyX2NsYXNzX2RldGFpbHMpID8+JGVtYWlsVmVyaWZpZXIpCiAgICB7CiAgICB9Cgo8P3BocCBlbmRpZjsgPz4KPD89ICRnZW5lcmF0b3ItPmdlbmVyYXRlUm91dGVGb3JDb250cm9sbGVyTWV0aG9kKCRyb3V0ZV9wYXRoLCAkcm91dGVfbmFtZSkgPz4KICAgIHB1YmxpYyBmdW5jdGlvbiByZWdpc3RlcihSZXF1ZXN0ICRyZXF1ZXN0LCBVc2VyUGFzc3dvcmRIYXNoZXJJbnRlcmZhY2UgJHVzZXJQYXNzd29yZEhhc2hlcjw/PSAkbG9naW5fYWZ0ZXJfcmVnaXN0cmF0aW9uID8gJywgU2VjdXJpdHkgJHNlY3VyaXR5JzogJycgPz4sIEVudGl0eU1hbmFnZXJJbnRlcmZhY2UgJGVudGl0eU1hbmFnZXIpOiBSZXNwb25zZQogICAgewogICAgICAgICR1c2VyID0gbmV3IDw/PSAkdXNlcl9jbGFzc19uYW1lID8+KCk7CiAgICAgICAgJGZvcm0gPSAkdGhpcy0+Y3JlYXRlRm9ybSg8Pz0gJGZvcm1fY2xhc3NfbmFtZSA/Pjo6Y2xhc3MsICR1c2VyKTsKICAgICAgICAkZm9ybS0+aGFuZGxlUmVxdWVzdCgkcmVxdWVzdCk7CgogICAgICAgIGlmICgkZm9ybS0+aXNTdWJtaXR0ZWQoKSAmJiAkZm9ybS0+aXNWYWxpZCgpKSB7CiAgICAgICAgICAgIC8qKiBAdmFyIHN0cmluZyAkcGxhaW5QYXNzd29yZCAqLwogICAgICAgICAgICAkcGxhaW5QYXNzd29yZCA9ICRmb3JtLT5nZXQoJ3BsYWluUGFzc3dvcmQnKS0+Z2V0RGF0YSgpOwoKICAgICAgICAgICAgLy8gZW5jb2RlIHRoZSBwbGFpbiBwYXNzd29yZAogICAgICAgICAgICAkdXNlci0+c2V0PD89IHVjZmlyc3QoJHBhc3N3b3JkX2ZpZWxkKSA/PigkdXNlclBhc3N3b3JkSGFzaGVyLT5oYXNoUGFzc3dvcmQoJHVzZXIsICRwbGFpblBhc3N3b3JkKSk7CgogICAgICAgICAgICAkZW50aXR5TWFuYWdlci0+cGVyc2lzdCgkdXNlcik7CiAgICAgICAgICAgICRlbnRpdHlNYW5hZ2VyLT5mbHVzaCgpOwo8P3BocCBpZiAoJHdpbGxfdmVyaWZ5X2VtYWlsKTogPz4KCiAgICAgICAgICAgIC8vIGdlbmVyYXRlIGEgc2lnbmVkIHVybCBhbmQgZW1haWwgaXQgdG8gdGhlIHVzZXIKICAgICAgICAgICAgJHRoaXMtPmVtYWlsVmVyaWZpZXItPnNlbmRFbWFpbENvbmZpcm1hdGlvbignYXBwX3ZlcmlmeV9lbWFpbCcsICR1c2VyLAogICAgICAgICAgICAgICAgKG5ldyBUZW1wbGF0ZWRFbWFpbCgpKQogICAgICAgICAgICAgICAgICAgIC0+ZnJvbShuZXcgQWRkcmVzcygnPD89ICRmcm9tX2VtYWlsID8+JywgJzw/PSAkZnJvbV9lbWFpbF9uYW1lID8+JykpCiAgICAgICAgICAgICAgICAgICAgLT50bygoc3RyaW5nKSAkdXNlci0+PD89ICRlbWFpbF9nZXR0ZXIgPz4oKSkKICAgICAgICAgICAgICAgICAgICAtPnN1YmplY3QoJ1BsZWFzZSBDb25maXJtIHlvdXIgRW1haWwnKQogICAgICAgICAgICAgICAgICAgIC0+aHRtbFRlbXBsYXRlKCdyZWdpc3RyYXRpb24vY29uZmlybWF0aW9uX2VtYWlsLmh0bWwudHdpZycpCiAgICAgICAgICAgICk7Cjw/cGhwIGVuZGlmOyA/PgoKICAgICAgICAgICAgLy8gZG8gYW55dGhpbmcgZWxzZSB5b3UgbmVlZCBoZXJlLCBsaWtlIHNlbmQgYW4gZW1haWwKCjw/cGhwIGlmICgkbG9naW5fYWZ0ZXJfcmVnaXN0cmF0aW9uKTogPz4KICAgICAgICAgICAgcmV0dXJuICRzZWN1cml0eS0+bG9naW4oJHVzZXIsIDw/PSAkYXV0aGVudGljYXRvciA/PiwgJzw/PSAkZmlyZXdhbGwgPz4nKTsKPD9waHAgZWxzZTogPz4KICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5yZWRpcmVjdFRvUm91dGUoJzw/PSAkcmVkaXJlY3Rfcm91dGVfbmFtZSA/PicpOwo8P3BocCBlbmRpZjsgPz4KICAgICAgICB9CgogICAgICAgIHJldHVybiAkdGhpcy0+cmVuZGVyKCdyZWdpc3RyYXRpb24vcmVnaXN0ZXIuaHRtbC50d2lnJywgWwogICAgICAgICAgICAncmVnaXN0cmF0aW9uRm9ybScgPT4gJGZvcm0sCiAgICAgICAgXSk7CiAgICB9Cjw/cGhwIGlmICgkd2lsbF92ZXJpZnlfZW1haWwpOiA/PgoKPD89ICRnZW5lcmF0b3ItPmdlbmVyYXRlUm91dGVGb3JDb250cm9sbGVyTWV0aG9kKCcvdmVyaWZ5L2VtYWlsJywgJ2FwcF92ZXJpZnlfZW1haWwnKSA/PgogICAgcHVibGljIGZ1bmN0aW9uIHZlcmlmeVVzZXJFbWFpbChSZXF1ZXN0ICRyZXF1ZXN0PD9waHAgaWYgKCR0cmFuc2xhdG9yX2F2YWlsYWJsZSk6ID8+LCBUcmFuc2xhdG9ySW50ZXJmYWNlICR0cmFuc2xhdG9yPD9waHAgZW5kaWYgPz48Pz0gJHZlcmlmeV9lbWFpbF9hbm9ueW1vdXNseSA/IHNwcmludGYoJywgJXMgJXMnLCAkcmVwb3NpdG9yeV9jbGFzc19uYW1lLCAkcmVwb3NpdG9yeV92YXIpIDogbnVsbCA/Pik6IFJlc3BvbnNlCiAgICB7Cjw/cGhwIGlmICghJHZlcmlmeV9lbWFpbF9hbm9ueW1vdXNseSk6ID8+CiAgICAgICAgJHRoaXMtPmRlbnlBY2Nlc3NVbmxlc3NHcmFudGVkKCdJU19BVVRIRU5USUNBVEVEX0ZVTExZJyk7Cjw/cGhwIGVsc2U6ID8+CiAgICAgICAgJGlkID0gJHJlcXVlc3QtPnF1ZXJ5LT5nZXQoJ2lkJyk7CgogICAgICAgIGlmIChudWxsID09PSAkaWQpIHsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5yZWRpcmVjdFRvUm91dGUoJ2FwcF9yZWdpc3RlcicpOwogICAgICAgIH0KPD9waHAgaWYgKCckbWFuYWdlcicgPT09ICRyZXBvc2l0b3J5X3Zhcik6ID8+CgogICAgICAgICRyZXBvc2l0b3J5ID0gJG1hbmFnZXItPmdldFJlcG9zaXRvcnkoPD89ICR1c2VyX2NsYXNzX25hbWUgPz46OmNsYXNzKTsKICAgICAgICAkdXNlciA9ICRyZXBvc2l0b3J5LT5maW5kKCRpZCk7Cjw/cGhwIGVsc2U6ID8+CgogICAgICAgICR1c2VyID0gPD89ICRyZXBvc2l0b3J5X3ZhcjsgPz4tPmZpbmQoJGlkKTsKPD9waHAgZW5kaWY7ID8+CgogICAgICAgIGlmIChudWxsID09PSAkdXNlcikgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnYXBwX3JlZ2lzdGVyJyk7CiAgICAgICAgfQo8P3BocCBlbmRpZjsgPz4KCiAgICAgICAgLy8gdmFsaWRhdGUgZW1haWwgY29uZmlybWF0aW9uIGxpbmssIHNldHMgVXNlcjo6aXNWZXJpZmllZD10cnVlIGFuZCBwZXJzaXN0cwogICAgICAgIHRyeSB7Cjw/cGhwIGlmICghJHZlcmlmeV9lbWFpbF9hbm9ueW1vdXNseSk6ID8+CiAgICAgICAgICAgIC8qKiBAdmFyIDw/PSAkdXNlcl9jbGFzc19uYW1lID8+ICR1c2VyICovCiAgICAgICAgICAgICR1c2VyID0gJHRoaXMtPmdldFVzZXIoKTsKPD9waHAgZW5kaWY7ID8+CiAgICAgICAgICAgICR0aGlzLT5lbWFpbFZlcmlmaWVyLT5oYW5kbGVFbWFpbENvbmZpcm1hdGlvbigkcmVxdWVzdCwgJHVzZXIpOwogICAgICAgIH0gY2F0Y2ggKFZlcmlmeUVtYWlsRXhjZXB0aW9uSW50ZXJmYWNlICRleGNlcHRpb24pIHsKICAgICAgICAgICAgJHRoaXMtPmFkZEZsYXNoKCd2ZXJpZnlfZW1haWxfZXJyb3InLCA8P3BocCBpZiAoJHRyYW5zbGF0b3JfYXZhaWxhYmxlKTogPz4kdHJhbnNsYXRvci0+dHJhbnMoJGV4Y2VwdGlvbi0+Z2V0UmVhc29uKCksIFtdLCAnVmVyaWZ5RW1haWxCdW5kbGUnKTw/cGhwIGVsc2U6ID8+JGV4Y2VwdGlvbi0+Z2V0UmVhc29uKCk8P3BocCBlbmRpZiA/Pik7CgogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnPD89ICRyb3V0ZV9uYW1lID8+Jyk7CiAgICAgICAgfQoKICAgICAgICAvLyBAVE9ETyBDaGFuZ2UgdGhlIHJlZGlyZWN0IG9uIHN1Y2Nlc3MgYW5kIGhhbmRsZSBvciByZW1vdmUgdGhlIGZsYXNoIG1lc3NhZ2UgaW4geW91ciB0ZW1wbGF0ZXMKICAgICAgICAkdGhpcy0+YWRkRmxhc2goJ3N1Y2Nlc3MnLCAnWW91ciBlbWFpbCBhZGRyZXNzIGhhcyBiZWVuIHZlcmlmaWVkLicpOwoKICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnYXBwX3JlZ2lzdGVyJyk7CiAgICB9Cjw/cGhwIGVuZGlmOyA/Pgp9CiI7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG1ldGFkYXRhIjthOjA6e319";